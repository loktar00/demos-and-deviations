<!doctype html>
<html>
	<head>
		<style>canvas{border:1px solid #000;}</style>
	</head>
	<body>
		<canvas id="canvas"></canvas>
	<script>
		var canvas = document.getElementById("canvas"),
			ctx = canvas.getContext("2d");

		canvas.width = 400;
		canvas.height = 400;

		var startX = 0,
			startY = 0,
			painting = false;

		canvas.onmousedown = function(e) {
			startX = e.pageX - this.offsetLeft;
			startY = e.pageY - this.offsetTop;

			painting = true;
			ctx.strokeStyle= "#000";
			ctx.lineWidth = 1;
		};

		canvas.onmouseup = function(e){
			painting = false;
		}

		canvas.onmousemove = function(e) {
			var mouseX = e.pageX - this.offsetLeft,
				mouseY = e.pageY - this.offsetTop;

			var angle = Math.atan2(mouseY- startY, mouseX - startX);
		console.log(angle*Math.pi/180);
			if (painting) {
				mouseX = e.pageX - this.offsetLeft;
				mouseY = e.pageY - this.offsetTop;
				ctx.beginPath();
				ctx.moveTo(startX,startY);
				ctx.lineTo(mouseX, mouseY);
				ctx.stroke();
			}
		}
	</script>
	</body>
</html>