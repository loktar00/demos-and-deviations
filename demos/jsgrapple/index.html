<!doctype html> <html>	<head>		<title>JS1k, 1k demo submission [id]</title> 		<meta charset="utf-8" /> 	</head>	<body>		<canvas id="c"></canvas>		<script> (function(){var j,c,k=Math,y=k.random,a,b=[],e,d,r,i,s,l,m,v,n,h,o,t,f,g,p,w,q,u,x=80;j=document.body.children.c;j.width=256;j.height=512;c=j.getContext("2d");e=128;d=432;for(a=0;a<3;a++)b[a]={x:y()*186,y:170*a};t=u=h=n=0;j.onclick=function(z){if(!q){t=true;f=e;g=d;l=z.clientX-f;m=z.clientY-g;w=p=k.atan2(m,l)*57.32;p>-170&&p<-10&&(q=true)}};setInterval(function(){{c.clearRect(0,0,256,512);c.fillText(u,5,15);for(a=0;a<3;a++){if(b[a].y>512){b[a].x=y()*186;b[a].y=0}c.fillRect(b[a].x,o?b[a].y-=h*4:b[a].y,x,15)}c.fillRect(e,d,5,5);if(t){if(o){i-=h*4;u++}x=80-u/65;l=e-r;m=d-i;v=k.sqrt(l*l+m*m);if(s&&d>i+20){c.beginPath();c.moveTo(e,d);c.lineTo(r,i);c.stroke();n+=(r-e)/(v*30);h+=(i-d)/(v*30)}else s=false;if(q){f+=k.cos(w*.017)*15;g-=k.sin(p*-.017)*15;c.fillRect(f,g,4,4);for(a=0;a<3;a++){if(f>b[a].x&&f<b[a].x+x&&g>b[a].y&&g<b[a].y+15){s=true;q=false;r=f;i=g;return}s=false}g<0&&(q=false);(f>256||f<0)&&(w-=p)}h>0&&(o=false);h+=0.01;o||(d+=h*4);e+=n;d<170&&(o=true);d>512&&(t=false);(e<0||e>256)&&(n=-n)}}},10)})();		</script> 	</body> </html>